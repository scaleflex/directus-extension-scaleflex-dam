import{defineComponent as e,h as t,resolveComponent as n,ref as i,onMounted as o,toRaw as a,isProxy as r,openBlock as l,createElementBlock as s,Fragment as c,createElementVNode as d,createVNode as u,withCtx as p,renderList as m,createCommentVNode as f,toDisplayString as h,createTextVNode as g,normalizeClass as v,createBlock as y,normalizeStyle as b,renderSlot as x,watch as w,toRefs as _,nextTick as k,onBeforeUnmount as S,onActivated as D,onDeactivated as C}from"vue";import{useApi as T,useStores as E}from"@directus/extensions-sdk";
/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var N=P(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),j=P(/Edge/i),B=P(/firefox/i),R=P(/safari/i)&&!P(/chrome/i)&&!P(/android/i),F=P(/iP(ad|od|hone)/i),L=P(/chrome/i)&&P(/android/i),z={capture:!1,passive:!1};function U(e,t,n){e.addEventListener(t,n,!N&&z)}function Y(e,t,n){e.removeEventListener(t,n,!N&&z)}function X(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function W(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function H(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&X(e,t):X(e,t))||i&&e===n)return e;if(e===n)break}while(e=W(e))}return null}var q,G=/\s+/g;function K(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(G," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(G," ")}}function Q(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function J(e,t){var n="";if("string"==typeof e)n=e;else do{var i=Q(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Z(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,a=i.length;if(n)for(;o<a;o++)n(i[o],o);return i}return[]}function ee(){var e=document.scrollingElement;return e||document.documentElement}function te(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var a,r,l,s,c,d,u;if(e!==window&&e.parentNode&&e!==ee()?(r=(a=e.getBoundingClientRect()).top,l=a.left,s=a.bottom,c=a.right,d=a.height,u=a.width):(r=0,l=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!N))do{if(o&&o.getBoundingClientRect&&("none"!==Q(o,"transform")||n&&"static"!==Q(o,"position"))){var p=o.getBoundingClientRect();r-=p.top+parseInt(Q(o,"border-top-width")),l-=p.left+parseInt(Q(o,"border-left-width")),s=r+a.height,c=l+a.width;break}}while(o=o.parentNode);if(i&&e!==window){var m=J(o||e),f=m&&m.a,h=m&&m.d;m&&(s=(r/=h)+(d/=h),c=(l/=f)+(u/=f))}return{top:r,left:l,bottom:s,right:c,width:u,height:d}}}function ne(e,t,n){for(var i=le(e,!0),o=te(e)[t];i;){var a=te(i)[n];if(!("top"===n||"left"===n?o>=a:o<=a))return i;if(i===ee())break;i=le(i,!1)}return!1}function ie(e,t,n,i){for(var o=0,a=0,r=e.children;a<r.length;){if("none"!==r[a].style.display&&r[a]!==dt.ghost&&(i||r[a]!==dt.dragged)&&H(r[a],n.draggable,e,!1)){if(o===t)return r[a];o++}a++}return null}function oe(e,t){for(var n=e.lastElementChild;n&&(n===dt.ghost||"none"===Q(n,"display")||t&&!X(n,t));)n=n.previousElementSibling;return n||null}function ae(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===dt.clone||t&&!X(e,t)||n++;return n}function re(e){var t=0,n=0,i=ee();if(e)do{var o=J(e),a=o.a,r=o.d;t+=e.scrollLeft*a,n+=e.scrollTop*r}while(e!==i&&(e=e.parentNode));return[t,n]}function le(e,t){if(!e||!e.getBoundingClientRect)return ee();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Q(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return ee();if(i||t)return n;i=!0}}}while(n=n.parentNode);return ee()}function se(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function ce(e,t){return function(){if(!q){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),q=setTimeout((function(){q=void 0}),t)}}}function de(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ue(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var pe="Sortable"+(new Date).getTime();function me(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Q(e,"display")&&e!==dt.ghost){t.push({target:e,rect:te(e)});var n=I({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=J(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,a=0;t.forEach((function(e){var t=0,n=e.target,r=n.fromRect,l=te(n),s=n.prevFromRect,c=n.prevToRect,d=e.rect,u=J(n,!0);u&&(l.top-=u.f,l.left-=u.e),n.toRect=l,n.thisAnimationDuration&&se(s,l)&&!se(r,l)&&(d.top-l.top)/(d.left-l.left)==(r.top-l.top)/(r.left-l.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(d,s,c,i.options)),se(l,r)||(n.prevFromRect=r,n.prevToRect=l,t||(t=i.options.animation),i.animate(n,d,l,t)),t&&(o=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){Q(e,"transition",""),Q(e,"transform","");var o=J(this.el),a=o&&o.a,r=o&&o.d,l=(t.left-n.left)/(a||1),s=(t.top-n.top)/(r||1);e.animatingX=!!l,e.animatingY=!!s,Q(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Q(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Q(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Q(e,"transition",""),Q(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var fe=[],he={initializeByDefault:!0},ge={mount:function(e){for(var t in he)he.hasOwnProperty(t)&&!(t in e)&&(e[t]=he[t]);fe.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),fe.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";fe.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](I({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](I({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var o in fe.forEach((function(i){var o=i.pluginName;if(e.options[o]||i.initializeByDefault){var a=new i(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,O(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return fe.forEach((function(i){"function"==typeof i.eventProperties&&O(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return fe.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(i=o.optionListeners[t].call(e[o.pluginName],n))})),i}};var ve=["evt"],ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=$(n,ve);ge.pluginEvent.bind(dt)(e,t,I({dragEl:xe,parentEl:we,ghostEl:_e,rootEl:ke,nextEl:Se,lastDownEl:De,cloneEl:Ce,cloneHidden:Te,dragStarted:Fe,putSortable:Oe,activeSortable:dt.active,originalEvent:i,oldIndex:Ee,oldDraggableIndex:Ie,newIndex:Ae,newDraggableIndex:Me,hideGhostForTarget:rt,unhideGhostForTarget:lt,cloneNowHidden:function(){Te=!0},cloneNowShown:function(){Te=!1},dispatchSortableEvent:function(e){be({sortable:t,name:e,originalEvent:i})}},o))};function be(e){!function(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,a=e.cloneEl,r=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,m=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[pe]){var h,g=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||N||j?(h=document.createEvent("Event")).initEvent(i,!0,!0):h=new CustomEvent(i,{bubbles:!0,cancelable:!0}),h.to=r||n,h.from=l||n,h.item=o||n,h.clone=a,h.oldIndex=s,h.newIndex=c,h.oldDraggableIndex=d,h.newDraggableIndex=u,h.originalEvent=p,h.pullMode=m?m.lastPutMode:void 0;var y=I(I({},f),ge.getEventProperties(i,t));for(var b in y)h[b]=y[b];n&&n.dispatchEvent(h),g[v]&&g[v].call(t,h)}}(I({putSortable:Oe,cloneEl:Ce,targetEl:xe,rootEl:ke,oldIndex:Ee,oldDraggableIndex:Ie,newIndex:Ae,newDraggableIndex:Me},e))}var xe,we,_e,ke,Se,De,Ce,Te,Ee,Ae,Ie,Me,Ve,Oe,$e,Pe,Ne,je,Be,Re,Fe,Le,ze,Ue,Ye,Xe=!1,We=!1,He=[],qe=!1,Ge=!1,Ke=[],Qe=!1,Je=[],Ze="undefined"!=typeof document,et=F,tt=j||N?"cssFloat":"float",nt=Ze&&!L&&!F&&"draggable"in document.createElement("div"),it=function(){if(Ze){if(N)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),ot=function(e,t){var n=Q(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=ie(e,0,t),a=ie(e,1,t),r=o&&Q(o),l=a&&Q(a),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+te(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+te(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&r.float&&"none"!==r.float){var d="left"===r.float?"left":"right";return!a||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return o&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||s>=i&&"none"===n[tt]||a&&"none"===n[tt]&&s+c>i)?"vertical":"horizontal"},at=function(e){function t(e,n){return function(i,o,a,r){var l=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,o,a,r),n)(i,o,a,r);var s=(n?i:o).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},i=e.group;i&&"object"==M(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},rt=function(){!it&&_e&&Q(_e,"display","none")},lt=function(){!it&&_e&&Q(_e,"display","")};Ze&&document.addEventListener("click",(function(e){if(We)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),We=!1,!1}),!0);var st=function(e){if(xe){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,a=e.clientY,He.some((function(e){var t=e[pe].options.emptyInsertThreshold;if(t&&!oe(e)){var n=te(e),i=o>=n.left-t&&o<=n.right+t,l=a>=n.top-t&&a<=n.bottom+t;return i&&l?r=e:void 0}})),r);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[pe]._onDragOver(n)}}var o,a,r},ct=function(e){xe&&xe.parentNode[pe]._isOutsideThisEl(e.target)};function dt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=O({},t),e[pe]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ot(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==dt.supportPointer&&"PointerEvent"in window&&!R,emptyInsertThreshold:5};for(var i in ge.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var o in at(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&nt,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?U(e,"pointerdown",this._onTapStart):(U(e,"mousedown",this._onTapStart),U(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(U(e,"dragover",this),U(e,"dragenter",this)),He.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),O(this,me())}function ut(e,t,n,i,o,a,r,l){var s,c,d=e[pe],u=d.options.onMove;return!window.CustomEvent||N||j?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=o||t,s.relatedRect=a||te(t),s.willInsertAfter=l,s.originalEvent=r,e.dispatchEvent(s),u&&(c=u.call(d,s,r)),c}function pt(e){e.draggable=!1}function mt(){Qe=!1}function ft(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function ht(e){return setTimeout(e,0)}function gt(e){return clearTimeout(e)}dt.prototype={constructor:dt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Le=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,xe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(r||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(function(e){Je.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&Je.push(i)}}(n),!xe&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||i.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!R||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=H(l,i.draggable,n,!1))&&l.animated||De===l)){if(Ee=ae(l),Ie=ae(l,i.draggable),"function"==typeof c){if(c.call(this,e,l,this))return be({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),ye("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=H(s,i.trim(),n,!1))return be({sortable:t,rootEl:i,name:"filter",targetEl:l,fromEl:n,toEl:n}),ye("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());i.handle&&!H(s,i.handle,n,!1)||this._prepareDragStart(e,r,l)}}},_prepareDragStart:function(e,t,n){var i,o=this,a=o.el,r=o.options,l=a.ownerDocument;if(n&&!xe&&n.parentNode===a){var s=te(n);if(ke=a,we=(xe=n).parentNode,Se=xe.nextSibling,De=n,Ve=r.group,dt.dragged=xe,$e={target:xe,clientX:(t||e).clientX,clientY:(t||e).clientY},Be=$e.clientX-s.left,Re=$e.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,xe.style["will-change"]="all",i=function(){ye("delayEnded",o,{evt:e}),dt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!B&&o.nativeDraggable&&(xe.draggable=!0),o._triggerDragStart(e,t),be({sortable:o,name:"choose",originalEvent:e}),K(xe,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){Z(xe,e.trim(),pt)})),U(l,"dragover",st),U(l,"mousemove",st),U(l,"touchmove",st),U(l,"mouseup",o._onDrop),U(l,"touchend",o._onDrop),U(l,"touchcancel",o._onDrop),B&&this.nativeDraggable&&(this.options.touchStartThreshold=4,xe.draggable=!0),ye("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(j||N))i();else{if(dt.eventCanceled)return void this._onDrop();U(l,"mouseup",o._disableDelayedDrag),U(l,"touchend",o._disableDelayedDrag),U(l,"touchcancel",o._disableDelayedDrag),U(l,"mousemove",o._delayedDragTouchMoveHandler),U(l,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&U(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){xe&&pt(xe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Y(e,"mouseup",this._disableDelayedDrag),Y(e,"touchend",this._disableDelayedDrag),Y(e,"touchcancel",this._disableDelayedDrag),Y(e,"mousemove",this._delayedDragTouchMoveHandler),Y(e,"touchmove",this._delayedDragTouchMoveHandler),Y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?U(document,"pointermove",this._onTouchMove):U(document,t?"touchmove":"mousemove",this._onTouchMove):(U(xe,"dragend",this),U(ke,"dragstart",this._onDragStart));try{document.selection?ht((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Xe=!1,ke&&xe){ye("dragStarted",this,{evt:t}),this.nativeDraggable&&U(document,"dragover",ct);var n=this.options;!e&&K(xe,n.dragClass,!1),K(xe,n.ghostClass,!0),dt.active=this,e&&this._appendGhost(),be({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Pe){this._lastX=Pe.clientX,this._lastY=Pe.clientY,rt();for(var e=document.elementFromPoint(Pe.clientX,Pe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Pe.clientX,Pe.clientY))!==t;)t=e;if(xe.parentNode[pe]._isOutsideThisEl(e),t)do{if(t[pe]){if(t[pe]._onDragOver({clientX:Pe.clientX,clientY:Pe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);lt()}},_onTouchMove:function(e){if($e){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=_e&&J(_e,!0),r=_e&&a&&a.a,l=_e&&a&&a.d,s=et&&Ye&&re(Ye),c=(o.clientX-$e.clientX+i.x)/(r||1)+(s?s[0]-Ke[0]:0)/(r||1),d=(o.clientY-$e.clientY+i.y)/(l||1)+(s?s[1]-Ke[1]:0)/(l||1);if(!dt.active&&!Xe){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(_e){a?(a.e+=c-(Ne||0),a.f+=d-(je||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Q(_e,"webkitTransform",u),Q(_e,"mozTransform",u),Q(_e,"msTransform",u),Q(_e,"transform",u),Ne=c,je=d,Pe=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!_e){var e=this.options.fallbackOnBody?document.body:ke,t=te(xe,!0,et,!0,e),n=this.options;if(et){for(Ye=e;"static"===Q(Ye,"position")&&"none"===Q(Ye,"transform")&&Ye!==document;)Ye=Ye.parentNode;Ye!==document.body&&Ye!==document.documentElement?(Ye===document&&(Ye=ee()),t.top+=Ye.scrollTop,t.left+=Ye.scrollLeft):Ye=ee(),Ke=re(Ye)}K(_e=xe.cloneNode(!0),n.ghostClass,!1),K(_e,n.fallbackClass,!0),K(_e,n.dragClass,!0),Q(_e,"transition",""),Q(_e,"transform",""),Q(_e,"box-sizing","border-box"),Q(_e,"margin",0),Q(_e,"top",t.top),Q(_e,"left",t.left),Q(_e,"width",t.width),Q(_e,"height",t.height),Q(_e,"opacity","0.8"),Q(_e,"position",et?"absolute":"fixed"),Q(_e,"zIndex","100000"),Q(_e,"pointerEvents","none"),dt.ghost=_e,e.appendChild(_e),Q(_e,"transform-origin",Be/parseInt(_e.style.width)*100+"% "+Re/parseInt(_e.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;ye("dragStart",this,{evt:e}),dt.eventCanceled?this._onDrop():(ye("setupClone",this),dt.eventCanceled||((Ce=ue(xe)).draggable=!1,Ce.style["will-change"]="",this._hideClone(),K(Ce,this.options.chosenClass,!1),dt.clone=Ce),n.cloneId=ht((function(){ye("clone",n),dt.eventCanceled||(n.options.removeCloneOnHide||ke.insertBefore(Ce,xe),n._hideClone(),be({sortable:n,name:"clone"}))})),!t&&K(xe,o.dragClass,!0),t?(We=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Y(document,"mouseup",n._onDrop),Y(document,"touchend",n._onDrop),Y(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,xe)),U(document,"drop",n),Q(xe,"transform","translateZ(0)")),Xe=!0,n._dragStartId=ht(n._dragStarted.bind(n,t,e)),U(document,"selectstart",n),Fe=!0,R&&Q(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,a=this.el,r=e.target,l=this.options,s=l.group,c=dt.active,d=Ve===s,u=l.sort,p=Oe||c,m=this,f=!1;if(!Qe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=H(r,l.draggable,a,!0),A("dragOver"),dt.eventCanceled)return f;if(xe.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return V(!1);if(We=!1,c&&!l.disabled&&(d?u||(i=we!==ke):Oe===this||(this.lastPutMode=Ve.checkPull(this,c,xe,e))&&s.checkPut(this,c,xe,e))){if(o="vertical"===this._getDirection(e,r),t=te(xe),A("dragOverValid"),dt.eventCanceled)return f;if(i)return we=ke,M(),this._hideClone(),A("revert"),dt.eventCanceled||(Se?ke.insertBefore(xe,Se):ke.appendChild(xe)),V(!0);var h=oe(a,l.draggable);if(!h||function(e,t,n){var i=te(oe(n.el,n.options.draggable)),o=10;return t?e.clientX>i.right+o||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+o}(e,o,this)&&!h.animated){if(h===xe)return V(!1);if(h&&a===e.target&&(r=h),r&&(n=te(r)),!1!==ut(ke,a,xe,t,r,n,e,!!r))return M(),a.appendChild(xe),we=a,O(),V(!0)}else if(h&&function(e,t,n){var i=te(ie(n.el,0,n.options,!0)),o=10;return t?e.clientX<i.left-o||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-o||e.clientY<i.bottom&&e.clientX<i.left}(e,o,this)){var g=ie(a,0,l,!0);if(g===xe)return V(!1);if(n=te(r=g),!1!==ut(ke,a,xe,t,r,n,e,!1))return M(),a.insertBefore(xe,g),we=a,O(),V(!0)}else if(r.parentNode===a){n=te(r);var v,y,b,x=xe.parentNode!==a,w=!function(e,t,n){var i=n?e.left:e.top,o=n?e.right:e.bottom,a=n?e.width:e.height,r=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return i===r||o===l||i+a/2===r+s/2}(xe.animated&&xe.toRect||t,r.animated&&r.toRect||n,o),_=o?"top":"left",k=ne(r,"top","top")||ne(xe,"top","top"),S=k?k.scrollTop:void 0;if(Le!==r&&(y=n[_],qe=!1,Ge=!w&&l.invertSwap||x),v=function(e,t,n,i,o,a,r,l){var s=i?e.clientY:e.clientX,c=i?n.height:n.width,d=i?n.top:n.left,u=i?n.bottom:n.right,p=!1;if(!r)if(l&&Ue<c*o){if(!qe&&(1===ze?s>d+c*a/2:s<u-c*a/2)&&(qe=!0),qe)p=!0;else if(1===ze?s<d+Ue:s>u-Ue)return-ze}else if(s>d+c*(1-o)/2&&s<u-c*(1-o)/2)return function(e){return ae(xe)<ae(e)?1:-1}(t);if((p=p||r)&&(s<d+c*a/2||s>u-c*a/2))return s>d+c/2?1:-1;return 0}(e,r,n,o,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ge,Le===r),0!==v){var D=ae(xe);do{D-=v,b=we.children[D]}while(b&&("none"===Q(b,"display")||b===_e))}if(0===v||b===r)return V(!1);Le=r,ze=v;var C=r.nextElementSibling,T=!1,E=ut(ke,a,xe,t,r,n,e,T=1===v);if(!1!==E)return 1!==E&&-1!==E||(T=1===E),Qe=!0,setTimeout(mt,30),M(),T&&!C?a.appendChild(xe):r.parentNode.insertBefore(xe,T?C:r),k&&de(k,0,S-k.scrollTop),we=xe.parentNode,void 0===y||Ge||(Ue=Math.abs(y-te(r)[_])),O(),V(!0)}if(a.contains(xe))return V(!1)}return!1}function A(l,s){ye(l,m,I({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:u,fromSortable:p,target:r,completed:V,onMove:function(n,i){return ut(ke,a,xe,t,n,te(n),e,i)},changed:O},s))}function M(){A("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function V(t){return A("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(m),m!==p&&(K(xe,Oe?Oe.options.ghostClass:c.options.ghostClass,!1),K(xe,l.ghostClass,!0)),Oe!==m&&m!==dt.active?Oe=m:m===dt.active&&Oe&&(Oe=null),p===m&&(m._ignoreWhileAnimating=r),m.animateAll((function(){A("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===xe&&!xe.animated||r===a&&!r.animated)&&(Le=null),l.dragoverBubble||e.rootEl||r===document||(xe.parentNode[pe]._isOutsideThisEl(e.target),!t&&st(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function O(){Ae=ae(xe),Me=ae(xe,l.draggable),be({sortable:m,name:"change",toEl:a,newIndex:Ae,newDraggableIndex:Me,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Y(document,"mousemove",this._onTouchMove),Y(document,"touchmove",this._onTouchMove),Y(document,"pointermove",this._onTouchMove),Y(document,"dragover",st),Y(document,"mousemove",st),Y(document,"touchmove",st)},_offUpEvents:function(){var e=this.el.ownerDocument;Y(e,"mouseup",this._onDrop),Y(e,"touchend",this._onDrop),Y(e,"pointerup",this._onDrop),Y(e,"touchcancel",this._onDrop),Y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Ae=ae(xe),Me=ae(xe,n.draggable),ye("drop",this,{evt:e}),we=xe&&xe.parentNode,Ae=ae(xe),Me=ae(xe,n.draggable),dt.eventCanceled||(Xe=!1,Ge=!1,qe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),gt(this.cloneId),gt(this._dragStartId),this.nativeDraggable&&(Y(document,"drop",this),Y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),R&&Q(document.body,"user-select",""),Q(xe,"transform",""),e&&(Fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),_e&&_e.parentNode&&_e.parentNode.removeChild(_e),(ke===we||Oe&&"clone"!==Oe.lastPutMode)&&Ce&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),xe&&(this.nativeDraggable&&Y(xe,"dragend",this),pt(xe),xe.style["will-change"]="",Fe&&!Xe&&K(xe,Oe?Oe.options.ghostClass:this.options.ghostClass,!1),K(xe,this.options.chosenClass,!1),be({sortable:this,name:"unchoose",toEl:we,newIndex:null,newDraggableIndex:null,originalEvent:e}),ke!==we?(Ae>=0&&(be({rootEl:we,name:"add",toEl:we,fromEl:ke,originalEvent:e}),be({sortable:this,name:"remove",toEl:we,originalEvent:e}),be({rootEl:we,name:"sort",toEl:we,fromEl:ke,originalEvent:e}),be({sortable:this,name:"sort",toEl:we,originalEvent:e})),Oe&&Oe.save()):Ae!==Ee&&Ae>=0&&(be({sortable:this,name:"update",toEl:we,originalEvent:e}),be({sortable:this,name:"sort",toEl:we,originalEvent:e})),dt.active&&(null!=Ae&&-1!==Ae||(Ae=Ee,Me=Ie),be({sortable:this,name:"end",toEl:we,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ye("nulling",this),ke=xe=we=_e=Se=Ce=De=Te=$e=Pe=Fe=Ae=Me=Ee=Ie=Le=ze=Oe=Ve=dt.dragged=dt.ghost=dt.clone=dt.active=null,Je.forEach((function(e){e.checked=!0})),Je.length=Ne=je=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":xe&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,a=this.options;i<o;i++)H(e=n[i],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ft(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var o=i.children[t];H(o,this.options.draggable,i,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return H(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=ge.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&at(n)},destroy:function(){ye("destroy",this);var e=this.el;e[pe]=null,Y(e,"mousedown",this._onTapStart),Y(e,"touchstart",this._onTapStart),Y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Y(e,"dragover",this),Y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),He.splice(He.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Te){if(ye("hideClone",this),dt.eventCanceled)return;Q(Ce,"display","none"),this.options.removeCloneOnHide&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),Te=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Te){if(ye("showClone",this),dt.eventCanceled)return;xe.parentNode!=ke||this.options.group.revertClone?Se?ke.insertBefore(Ce,Se):ke.appendChild(Ce):ke.insertBefore(Ce,xe),this.options.group.revertClone&&this.animate(xe,Ce),Q(Ce,"display",""),Te=!1}}else this._hideClone()}},Ze&&U(document,"touchmove",(function(e){(dt.active||Xe)&&e.cancelable&&e.preventDefault()})),dt.utils={on:U,off:Y,css:Q,find:Z,is:function(e,t){return!!H(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:ce,closest:H,toggleClass:K,clone:ue,index:ae,nextTick:ht,cancelNextTick:gt,detectDirection:ot,getChild:ie},dt.get=function(e){return e[pe]},dt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(dt.utils=I(I({},dt.utils),e.utils)),ge.mount(e)}))},dt.create=function(e,t){return new dt(e,t)},dt.version="1.14.0";var vt,yt,bt,xt,wt,_t,kt=[],St=!1;function Dt(){kt.forEach((function(e){clearInterval(e.pid)})),kt=[]}function Ct(){clearInterval(_t)}var Tt=ce((function(e,t,n,i){if(t.scroll){var o,a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=ee(),d=!1;yt!==n&&(yt=n,Dt(),vt=t.scroll,o=t.scrollFn,!0===vt&&(vt=le(n,!0)));var u=0,p=vt;do{var m=p,f=te(m),h=f.top,g=f.bottom,v=f.left,y=f.right,b=f.width,x=f.height,w=void 0,_=void 0,k=m.scrollWidth,S=m.scrollHeight,D=Q(m),C=m.scrollLeft,T=m.scrollTop;m===c?(w=b<k&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),_=x<S&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(w=b<k&&("auto"===D.overflowX||"scroll"===D.overflowX),_=x<S&&("auto"===D.overflowY||"scroll"===D.overflowY));var E=w&&(Math.abs(y-a)<=l&&C+b<k)-(Math.abs(v-a)<=l&&!!C),A=_&&(Math.abs(g-r)<=l&&T+x<S)-(Math.abs(h-r)<=l&&!!T);if(!kt[u])for(var I=0;I<=u;I++)kt[I]||(kt[I]={});kt[u].vx==E&&kt[u].vy==A&&kt[u].el===m||(kt[u].el=m,kt[u].vx=E,kt[u].vy=A,clearInterval(kt[u].pid),0==E&&0==A||(d=!0,kt[u].pid=setInterval(function(){i&&0===this.layer&&dt.active._onTouchMove(wt);var t=kt[this.layer].vy?kt[this.layer].vy*s:0,n=kt[this.layer].vx?kt[this.layer].vx*s:0;"function"==typeof o&&"continue"!==o.call(dt.dragged.parentNode[pe],n,t,e,wt,kt[this.layer].el)||de(kt[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=le(p,!1)));St=d}}),30),Et=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||o;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function At(){}function It(){}At.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=ie(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Et},O(At,{pluginName:"revertOnSpill"}),It.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Et},O(It,{pluginName:"removeOnSpill"}),dt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?U(document,"dragover",this._handleAutoScroll):this.options.supportPointer?U(document,"pointermove",this._handleFallbackAutoScroll):t.touches?U(document,"touchmove",this._handleFallbackAutoScroll):U(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Y(document,"dragover",this._handleAutoScroll):(Y(document,"pointermove",this._handleFallbackAutoScroll),Y(document,"touchmove",this._handleFallbackAutoScroll),Y(document,"mousemove",this._handleFallbackAutoScroll)),Ct(),Dt(),clearTimeout(q),q=void 0},nulling:function(){wt=yt=vt=St=_t=bt=xt=null,kt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(i,o);if(wt=e,t||this.options.forceAutoScrollFallback||j||N||R){Tt(e,this.options,a,t);var r=le(a,!0);!St||_t&&i===bt&&o===xt||(_t&&Ct(),_t=setInterval((function(){var a=le(document.elementFromPoint(i,o),!0);a!==r&&(r=a,Dt()),Tt(e,n.options,a,t)}),10),bt=i,xt=o)}else{if(!this.options.bubbleScroll||le(a,!0)===ee())return void Dt();Tt(e,this.options,le(a,!1),!1)}}},O(e,{pluginName:"scroll",initializeByDefault:!0})}),dt.mount(It,At);const Mt="undefined"!=typeof window?window.console:global.console;const Vt=/-(\w)/g,Ot=function(e){const t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((e=>e.replace(Vt,((e,t)=>t?t.toUpperCase():""))));function $t(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Pt(e,t,n){const i=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,i)}function Nt(e,t){this.$nextTick((()=>this.$emit(e.toLowerCase(),t)))}function jt(e){return t=>{null!==this.realList&&this["onDrag"+e](t),Nt.call(this,e,t)}}const Bt=["Start","Add","Remove","Update","End"],Rt=["Choose","Unchoose","Sort","Filter","Clone"],Ft=["Move",...Bt,...Rt].map((e=>"on"+e));let Lt=null;const zt={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Ut=e({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Bt.map((e=>e.toLowerCase())),...Rt.map((e=>e.toLowerCase()))],props:zt,data:()=>({transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}),render(){const e=this.$slots.default?this.$slots.default():null,n=(i=this.$attrs,(o=this.componentData)?{...o.props,...o.attrs}:i);var i,o;return e?(this.transitionMode=function(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&(n=t.name,["transition-group","TransitionGroup"].includes(n));var n}(e),t(this.getTag(),n,e)):t(this.getTag(),n,[])},created(){null!==this.list&&null!==this.modelValue&&Mt.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Bt.forEach((t=>{e["on"+t]=jt.call(this,t)})),Rt.forEach((t=>{e["on"+t]=Nt.bind(this,t)}));const t=Object.keys(this.$attrs).reduce(((e,t)=>(e[Ot(t)]=this.$attrs[t],e)),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const i=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new dt(i,n),i.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?n(this.component):this.tag},updateOptions(e){for(var t in e){const n=Ot(t);-1===Ft.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=function(e,t,n,i){if(!e)return[];const o=Object.values(e),a=t.length-i;return[...t].map(((e,t)=>t>=a?o.length:o.indexOf(e)))}(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(e){const t=function(e,t){return Object.values(e).indexOf(t)}(this.getChildrenNodes()||[],e);if(-1===t)return null;return{index:t,element:this.realList[t]}},emitChanges(e){this.$nextTick((()=>{this.$emit("change",e)}))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){this.alterList((e=>e.splice(...arguments)))},updatePosition(e,t){this.alterList((n=>n.splice(t,0,n.splice(e,1)[0])))},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;this.getChildrenNodes()[e].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(e){this.computeIndexes(),this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Lt=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;$t(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const i={element:t,newIndex:n};this.emitChanges({added:i})},onDragRemove(e){if(Pt(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void $t(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){$t(e.item),Pt(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const i={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:i})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const i=this.getRelatedContextFromMoveEvent(e),o=this.context,a=this.computeFutureIndex(i,e);Object.assign(o,{futureIndex:a});return n(Object.assign({},e,{relatedContext:i,draggedContext:o}),t)},onDragEnd(){this.computeIndexes(),Lt=null},getTrargetedComponent:e=>e.__draggable_component__,getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const i=n.realList,o={list:i,component:n};if(e!==t&&i&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,o)}return o},computeFutureIndex(e,t){const n=[...t.to.children].filter((e=>"none"!==e.style.display));if(0===n.length)return 0;const i=n.indexOf(t.related),o=e.component.getVmIndex(i);return-1!==n.indexOf(Lt)||!t.willInsertAfter?o:o+1}}});var Yt=[],Xt=[];function Wt(e,t){if(e&&"undefined"!=typeof document){var n,i=!0===t.prepend?"prepend":"append",o=!0===t.singleTag,a="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var r=Yt.indexOf(a);-1===r&&(r=Yt.push(a)-1,Xt[r]={}),n=Xt[r]&&Xt[r][i]?Xt[r][i]:Xt[r][i]=l()}else n=l();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function l(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),o=0;o<n.length;o++)e.setAttribute(n[o],t.attributes[n[o]]);var r="prepend"===i?"afterbegin":"beforeend";return a.insertAdjacentElement(r,e),e}}Wt("\n.exceeds-the-limit {\r\n  color: red;\n}\n.ml-1 {\r\n  margin-left: 0.5rem;\n}\n#sfx-modal .filerobot-Provider-ItemCategory-wrapper .filerobot-u-reset {\r\n  top: 0;\n}\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\n}\n.modal {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  width: 80%;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n  overflow-y: auto;\r\n  max-height: 80vh;\r\n  margin: 1.75rem auto;\n}\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\n}\n.modal-close-btn {\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\n}\n.modal-body {\r\n  margin: 1rem 0;\n}\n.modal-footer {\r\n  text-align: right;\n}\n.sfx-media-icon {\r\n  width: 34px;\r\n  height: 34px;\r\n  border-radius: 25%;\r\n  position: relative; /* Ensure the pseudo-element is positioned relative to this container */\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\n}\n.media-item-icon {\r\n  position: absolute!important;\r\n  top: 7px;\r\n  left: 5px;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  z-index: 9999;\n}\n.sfx-media-icon::after {\r\n  content: ''; /* Empty content to create the pseudo-element */\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  z-index: 100;\r\n  height: 100%;\r\n  background-color: #0c3745;\r\n  opacity: 0; /* Start with no visibility */\r\n  transition: opacity 0.3s ease; /* Smooth fade in/out effect */\r\n  backdrop-filter: blur(5px); /* Apply blur effect */\n}\n.sfx-media-icon:hover .media-item-icon{\r\n  opacity: 1;\n}\n.sfx-media-icon:hover::after {\r\n  opacity: 0.85; /* Show the white blur overlay on hover */\n}\n.sfx-media-icon img {\r\n  width: 34px;\r\n  height: 34px;\r\n  display: block;\r\n  margin: 0 auto;\r\n  object-fit: cover;\r\n  border-radius: 25%;\n}\n.sfx-item .item-info {\r\n  margin-left: 12px;\n}\n.sfx-item .item-info a {\r\n  color: var(--theme--primary);\n}\n.sfx-item-inner {\r\n  display: flex;\r\n  align-items: center;\n}\n.bottom-message {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: end;\r\n  margin-top: var(--v-list-item-margin, 4px);\n}\n.sfx-item {\r\n  padding: 6px;\r\n  border: var(--theme--border-width) solid var(--v-list-item-border-color, var(--theme--form--field--input--border-color));\r\n  border-radius: var(--theme--border-radius);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  color: var(--v-list-item-color, var(--v-list-color, var(--theme--foreground)));\r\n  margin-top: var(--v-list-item-margin, 4px);\r\n  cursor: pointer;\r\n  transition: border-color 500ms ease;\n}\n.sfx-item:hover {\r\n  border: var(--theme--border-width) solid var(--v-list-item-border-color-hover, var(--theme--form--field--input--border-color-hover));\n}\n.sfx-media-icon .icon {\r\n  width: 80px;\r\n  height: 80px;\r\n  position: relative;\n}\n.btn-delete-item:hover {\r\n  color: var(--theme--danger);\n}\n.sfx-media-icon .icon i {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(50%, 50%);\r\n  font-size: 35px;\n}\n.item-icon{\r\n  width: 34px!important;\r\n  text-align: center;\r\n  padding: 0 var(--v-list-item-margin, 4px);\n}\n.remove-all span {\r\n  color: red;\r\n  font-size: 12px;\r\n  border: none;\r\n  background: none;\r\n  width: 100%;\n}\n.remove-all span:hover {\r\n  cursor: pointer;\r\n  color: rgb(185, 37, 37);\n}\n.asset-content {\r\n  max-height: 545px;\r\n  overflow-y: scroll;\n}\n.btn-drag-item {\r\n  margin-right: 8px;\r\n  cursor: move;\r\n  cursor: grab;\n}\n.btn-drag-item:active {\r\n  cursor: grabbing;\n}\n.asset-content::-webkit-scrollbar-track {\r\n  -webkit-box-shadow: inset 0 0 6px rgba(174, 174, 174, 0.3);\r\n  border-radius: 10px;\r\n  background-color: #F5F5F5;\n}\n.toolbar{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: var(--v-list-item-margin, 4px);\n}\n.container .v-card{\r\n  max-width: 80%;\n}\n.toolbar-item{\r\n  margin-top: 10px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: var(--v-list-item-margin, 4px);\r\n  transition: background-color 500ms ease, text-color 500ms ease;\r\n  border-radius: var(--v-list-item-border-radius, var(--theme--border-radius));\n}\n.toolbar_item_active{\r\n  background: var(--theme--primary);\r\n  color: white;\n}\n.toolbar-item:hover{\r\n  background: var(--theme--primary);\r\n  color: white;\n}\r\n\r\n",{});var Ht=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n};const qt={components:{draggable:Ut},props:{value:{type:String,default:null},collection:{type:String,default:"scaleflex_dam_settings"},id:{type:Number,default:1},title:{type:String,default:"Scaleflex DAM"},custom:{type:Boolean,default:!1},limit:{type:Number,default:0},limitTypes:{type:String,default:null},attributes:{type:String,default:null},config:{type:Object,default:null}},watch:{currentVariantConfigs:{handler(e,t){this.updateCurrentVariantShow()},deep:!0},"currentVariantConfigs.width"(e,t){this.updateCurrentVariantShow()},"currentVariantConfigs.height"(e,t){this.updateCurrentVariantShow()}},methods:{isImage:e=>e.startsWith("image"),isVideo:e=>e.startsWith("video"),isAudio:e=>e.startsWith("audio"),hasQueryString(e){try{return new URL(e).search.length>0}catch(e){return!1}},createThumbnail(e){return this.hasQueryString(e)?e+"&width=100&height=100":e+"?width=100&height=100"},trimText(e){if(e.length<=50)return e;const t=e.lastIndexOf("."),n=-1!==t?e.substring(0,t):e,i=-1!==t?e.substring(t):"",o=50-i.length-3;return n.substring(0,Math.max(o,0))+"..."+i},updateCurrentVariantShow(){const e=this.currentVariantShow.split("?")[0],t=new URLSearchParams({width:this.currentVariantConfigs.width,height:this.currentVariantConfigs.height}).toString();this.currentVariantShow=`${e}?${t}`,console.log("Updated currentVariantShow:",this.currentVariantShow)}},emits:["input","close"],setup(e,{emit:t}){const n=i(!1),l=T(),s=i(!1),c=i(!0),d=i(""),u=i(""),p=i(""),m=i(null),f=i([]),h=i([]),g=i(!1),v=i(""),y=i(!1),b=i(!1),x=i(!1),w=i(!1),_=i(null),k=i("size"),S=i({width:null,height:null,org_if_sml:!1});return o((()=>{!async function(){await async function(){try{const t=(await l.get(`/items/scaleflex_dam_settings/${e.id}`)).data.data;if(!t)throw new Error("Data not found");t.token&&t.sec?(v.value=`https://api.filerobot.com/${t.token}/v5`,d.value=t.token||"",u.value=t.sec||"",p.value=t.directory||"",b.value=!0):b.value=!1,e.custom?(m.value=e.limit||null,h.value=e.limitTypes?e.limitTypes:[],f.value=e.attributes?e.attributes:[]):(m.value=t.limit||null,h.value=t.limitType?t.limitType.split(","):[],f.value=t.attributes?t.attributes.split(","):[]),e.config&&"variants"in e.config&&(x.value=!0)}catch(e){}}().then((function(){c.value=!1,s.value=!0}))}()})),{openModal:function(){document.getElementById("sfx-modal").setAttribute("style","display: block"),n.value=!0,async function(){!function(e){if(!window.Filerobot)return;let t=window.Filerobot,n=null;n=t.Core({securityTemplateID:e.sec,container:e.token});let i=e.directory,o=t.Explorer,a=t.XHRUpload;n.use(o,{config:{rootFolderPath:i},target:"#sfx-dam-widget",inline:!0,width:"100%",height:"100%",disableExportButton:!1,hideExportButtonIcon:!0,preventExportDefaultBehavior:!0,dismissUrlPathQueryUpdate:!0,disableDownloadButton:!1,hideDownloadButtonIcon:!0,preventDownloadDefaultBehavior:!0,locale:{strings:{mutualizedExportButtonLabel:"Add assets",mutualizedDownloadButton:"Add assets"}},filters:{mimeTypes:h.value}}).use(a).on("export",(async(e,t,n,i)=>{await A(e),D()})).on("complete",(({failed:e,uploadID:t,successful:n})=>{e&&console.dir(e),n&&n.forEach(((e,t)=>{}))}))}({token:d.value,sec:u.value,directory:p.value,limitType:h.value})}()},closeModal:D,deleteItem:function(n){let i=e.value;i.splice(n,1),C(i),t("input",i)},limitFiles:I,getIsOverLimit:function(){return g.value},getTotalAssets:O,addAssetsDisabled:function(){return m.value===O()&&O()>0||c.value},refreshAssets:async function(){r(e.value)?await A(a(e.value),!0):await A(e.value,!0)},getIsLoading:function(){return c.value},removeAllAssets:function(){t("input",[]),g.value=!1,y.value=!1},log:function(){t("input",a(e.value))},closeDialog:function(){y.value=!1},clickRemoveAllAssets:function(){y.value=!0},dialogVisible:y,isTokenAndSecExists:b,configVariantsExist:x,toDamSetting:function(){const e=document.querySelector('a[href="/admin/scaleflex-dam-setting"]');e&&e.click()},closeVariantDialog:function(){w.value=!1,_.value=null},showVariantDialog:function(e,t){w.value=!0,_.value=t.img_url;const n=new URL(t.img_url),i=n.searchParams.get("width"),o=n.searchParams.get("height");S.value={width:i,height:o},console.log(`${t.img_url} Width: ${i}, Height: ${o}`)},isShowVariantDialog:w,currentVariantShow:_,currentToolbar:k,changeToolbar:function(e){k.value=e},currentVariantConfigs:S};function D(){document.getElementById("sfx-modal").setAttribute("style","display: none"),t("close"),n.value=!1}function C(e){I()>0&&e.length>I()?g.value=!0:g.value=!1}function E(e){return e.split("/")[0]}async function A(n,i=!1){c.value=!0;const o=n.map((async(t,n)=>{try{let a="";a=i?function(e){return e.uuid.split("_")[0]}(t):t.file.uuid;const r=await async function(e){c.value=!0;const t=v.value+"/files/"+e+"?format=select:human";try{const e=await fetch(t);if(!e.ok)throw new Error(`Error: ${e.status}`);return await e.json()}catch(e){return null}finally{c.value=!1}}(a);let l="";l=r?.file?.url.cdn,void 0!==t.file?.url.download&&(l=t.file?.url.download),i&&(o=t.cdn,l=function(e,t){const n=Object.entries(t).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return e.split("?")[0]+"?"+n}(l,function(e){const t=e.split("?")[1];if(!t)return{};const n=t.split("&"),i={};return n.forEach((e=>{const[t,n]=e.split("=");i[decodeURIComponent(t)]=decodeURIComponent(n||"")})),i}(o)));const s={uuid:r?.file?.uuid+"_"+M(n),name:r?.file?.name,cdn:V(l,"vh"),extension:r?.file?.extension,source:"filerobot",type:r?.file?.type,ownerName:r?.file?.owner?.name};if(x&&s.type.startsWith("image")){const t=[],n=e.config.variants;for(let e of n){const n=new URLSearchParams(e.preset),i=`${s.cdn}?${n.toString()}`;t.push({code:e.code,name:e.name,img_url:i})}s.variants=t}return f.value.length>0&&(s.attributes=function(e){let t={};if(f.value.length>0){let n=f.value;for(let i of n){let n=i.trim();t[n]=e[n]}return t}}(r?.file)),s}catch(e){return null}var o}));try{const n=(await Promise.all(o)).filter((e=>e));let a=null;a=i||!e.value?[...n]:[...e.value,...n],C(a),I()>0&&(a=a.slice(0,I())),h.value.length>0&&(a=function(e,t){const n=t;return n.includes("document")?e.filter((e=>n.includes(E(e.type))||!["image","video","audio"].includes(E(e.type)))):e.filter((e=>n.includes(E(e.type))))}(a,h.value)),t("input",a)}catch(e){console.error("Error fetching files:",e)}finally{c.value=!1}}function I(){return m.value&&m.value>0?Number(m.value):-1}function M(t){return e.value?t+e.value.length:t}function V(e,t){var n=e.split("?");if(n.length>=2){for(var i=encodeURIComponent(t)+"=",o=n[1].split(/[&;]/g),a=o.length;a-- >0;)-1!==o[a].lastIndexOf(i,0)&&o.splice(a,1);return n[0]+(o.length>0?"?"+o.join("&"):"")}return e}function O(){return e.value?e.value.length:0}}},Gt=["value"],Kt={id:"sfx-result"},Qt={class:"sfx-item"},Jt={class:"sfx-item-inner"},Zt={class:"btn-drag-item"},en={class:"sfx-media-icon",target:"_blank"},tn=["href"],nn=["src","alt"],on={class:"item-info"},an=["onClick"],rn={key:0},ln=["onClick"],sn={key:1,class:"sfx-item"},cn={class:"sfx-item-inner"},dn={class:"btn-drag-item"},un={class:"sfx-media-icon",target:"_blank"},pn=["href"],mn={class:"item-info"},fn=["onClick"],hn={key:2,class:"sfx-item"},gn={class:"sfx-item-inner"},vn={class:"btn-drag-item"},yn={class:"sfx-media-icon",target:"_blank"},bn=["href"],xn={class:"item-info"},wn=["onClick"],_n={key:3,class:"sfx-item"},kn={class:"sfx-item-inner"},Sn={class:"btn-drag-item"},Dn={class:"sfx-media-icon",target:"_blank"},Cn=["href"],Tn={class:"item-info"},En=["onClick"],An={class:"bottom-message"},In={key:0,class:"column align-left"},Mn={key:0},Vn={key:0,style:{display:"flex","align-items":"center","justify-content":"end"},class:"exceeds-the-limit"},On={style:{display:"flex","justify-content":"space-between",border:"1px solid lightgray",height:"500px"}},$n={id:"variants-toolbar",style:{width:"50px",padding:"5px",display:"flex","align-items":"center","justify-content":"start","flex-direction":"column","border-right":"1px solid lightgray"}},Pn={id:"variants-toolbar-config",style:{width:"250px","border-right":"1px solid lightgray",padding:"10px",display:"flex","flex-direction":"column"}},Nn={key:0,id:"variants-toolbar-config-size"},jn={style:{display:"flex","justify-content":"start"}},Bn={style:{"margin-top":"15px"}},Rn={key:1,id:"variants-toolbar-config-crop"},Fn={key:2,id:"variants-toolbar-config-addition"},Ln={id:"variants-toolbar-image",style:{width:"100%",display:"flex","justify-content":"center","align-items":"center",overflow:"hidden","max-height":"80%"}},zn=["src"],Un={key:0,class:"toolbar"},Yn={key:1},Xn={class:"modal"},Wn={class:"modal-header"},Hn={class:"modal-body"},qn={class:"modal-footer"};var Gn=Ht(qt,[["render",function(e,t,i,o,a,r){const w=n("VIcon"),_=n("draggable"),k=n("v-card-title"),S=n("v-card-text"),D=n("VButton"),C=n("v-card-actions"),T=n("v-card"),E=n("VDialog"),A=n("VCardTitle"),I=n("VCheckbox"),M=n("VInput"),V=n("VCardText"),O=n("VCard");return l(),s(c,null,[t[29]||(t[29]=d("link",{rel:"stylesheet",type:"text/css",href:"https://scaleflex.cloudimg.io/v7/plugins/filerobot-widget/v3/latest/filerobot-widget.min.css"},null,-1)),d("input",{value:JSON.stringify(i.value),type:"hidden",id:"sfx_value"},null,8,Gt),d("div",Kt,[u(_,{class:"asset-content",list:i.value,onChange:o.log},{default:p((()=>[(l(!0),s(c,null,m(i.value,((e,t)=>(l(),s("div",{key:t,class:"media-container"},[f(" Kiểm tra loại file và hiển thị phù hợp "),r.isImage(e.type)?(l(),s(c,{key:0},[d("div",Qt,[d("div",Jt,[d("div",Zt,[u(w,{name:"drag_handle"})]),d("div",en,[d("a",{href:e.cdn,target:"_blank"},[d("img",{src:r.createThumbnail(e.cdn),alt:e.name,class:"media-item"},null,8,nn),u(w,{color:"white",name:"visibility",xsmall:!0,class:"media-item-icon"})],8,tn)]),d("div",on,[d("span",null,h(r.trimText(e.name)),1)])]),d("div",{class:"btn-delete-item",onClick:e=>o.deleteItem(t)},[u(w,{name:"close"})],8,an)]),o.configVariantsExist?(l(),s("div",rn,[(l(!0),s(c,null,m(e.variants,(t=>(l(),s("div",null,[d("div",{onClick:n=>o.showVariantDialog(e,t)},h(t.name),9,ln)])))),256))])):f("v-if",!0)],64)):r.isVideo(e.type)?(l(),s("div",sn,[d("div",cn,[d("div",dn,[u(w,{name:"drag_handle"})]),d("div",un,[d("a",{href:e.cdn,target:"_blank"},[u(w,{class:"item-icon",name:"videocam"}),u(w,{color:"white",name:"visibility",xsmall:!0,class:"media-item-icon"})],8,pn)]),d("div",mn,[d("span",null,h(r.trimText(e.name)),1)])]),d("div",{class:"btn-delete-item",onClick:e=>o.deleteItem(t)},[u(w,{name:"close"})],8,fn)])):r.isAudio(e.type)?(l(),s("div",hn,[d("div",gn,[d("div",vn,[u(w,{name:"drag_handle"})]),d("div",yn,[d("a",{href:e.cdn,target:"_blank"},[u(w,{class:"item-icon",name:"play_circle"}),u(w,{color:"white",name:"visibility",xsmall:!0,class:"media-item-icon"})],8,bn)]),d("div",xn,[d("span",null,h(r.trimText(e.name)),1)])]),d("div",{class:"btn-delete-item",onClick:e=>o.deleteItem(t)},[u(w,{name:"close"})],8,wn)])):(l(),s("div",_n,[d("div",kn,[d("div",Sn,[u(w,{name:"drag_handle"})]),d("div",Dn,[d("a",{href:e.cdn,target:"_blank"},[u(w,{class:"item-icon",name:"draft"}),u(w,{color:"white",name:"visibility",xsmall:!0,class:"media-item-icon"})],8,Cn)]),d("div",Tn,[d("span",null,h(r.trimText(e.name)),1)])]),d("div",{class:"btn-delete-item",onClick:e=>o.deleteItem(t)},[u(w,{name:"close"})],8,En)]))])))),128))])),_:1},8,["list","onChange"]),d("div",An,[o.getTotalAssets()>0?(l(),s("div",In,[d("span",null,"Total: "+h(o.getTotalAssets()),1),o.limitFiles()>0?(l(),s("span",Mn," / Limit "+h(o.limitFiles()),1)):f("v-if",!0)])):f("v-if",!0)]),o.getIsOverLimit()?(l(),s("div",Vn,t[13]||(t[13]=[d("span",{class:"ml-1"},"Exceeded maximum number of assets",-1)]))):f("v-if",!0),u(E,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>o.dialogVisible=e)},{default:p((()=>[u(T,{class:"dialog-content"},{default:p((()=>[u(k,null,{default:p((()=>t[14]||(t[14]=[g("Scaleflex DAM")]))),_:1}),u(S,null,{default:p((()=>t[15]||(t[15]=[g("Are you sure you want to delete everything? Please confirm to proceed.")]))),_:1}),u(C,null,{default:p((()=>[u(D,{onClick:o.removeAllAssets,warning:!0},{default:p((()=>t[16]||(t[16]=[g(" Yes ")]))),_:1},8,["onClick"]),u(D,{onClick:o.closeDialog,secondary:!0},{default:p((()=>t[17]||(t[17]=[g(" No ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(E,{modelValue:o.isShowVariantDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>o.isShowVariantDialog=e)},{default:p((()=>[u(O,{style:{width:"70%"},class:"dialog-content"},{default:p((()=>[u(A,null,{default:p((()=>t[18]||(t[18]=[g(" Edit Image Variants ")]))),_:1}),u(V,null,{default:p((()=>[d("div",On,[d("div",$n,[d("div",{onClick:t[1]||(t[1]=e=>o.changeToolbar("size")),class:v([{toolbar_item_active:"size"===o.currentToolbar},"toolbar-item"])},[u(w,{small:!0,name:"width_wide"})],2),d("div",{onClick:t[2]||(t[2]=e=>o.changeToolbar("crop")),class:v([{toolbar_item_active:"crop"===o.currentToolbar},"toolbar-item"])},[u(w,{small:!0,name:"crop"})],2),d("div",{onClick:t[3]||(t[3]=e=>o.changeToolbar("addition")),class:v([{toolbar_item_active:"addition"===o.currentToolbar},"toolbar-item"])},[u(w,{small:!0,name:"flip"})],2)]),d("div",Pn,["size"===o.currentToolbar?(l(),s("div",Nn,[d("div",jn,[u(I,{small:!0,modelValue:o.currentVariantConfigs.org_if_sml,"onUpdate:modelValue":t[4]||(t[4]=e=>o.currentVariantConfigs.org_if_sml=e)},null,8,["modelValue"]),t[19]||(t[19]=d("span",null,"Prevent enlargement",-1))]),d("div",null,[t[20]||(t[20]=d("span",null,"Width",-1)),u(M,{small:!0,modelValue:o.currentVariantConfigs.width,"onUpdate:modelValue":t[5]||(t[5]=e=>o.currentVariantConfigs.width=e)},null,8,["modelValue"])]),d("div",Bn,[t[21]||(t[21]=d("span",null,"Height",-1)),u(M,{small:!0,modelValue:o.currentVariantConfigs.height,"onUpdate:modelValue":t[6]||(t[6]=e=>o.currentVariantConfigs.height=e)},null,8,["modelValue"])])])):f("v-if",!0),"crop"===o.currentToolbar?(l(),s("div",Rn," Crop ")):f("v-if",!0),"addition"===o.currentToolbar?(l(),s("div",Fn," Addition ")):f("v-if",!0)]),d("div",Ln,[d("img",{style:{height:"70%",width:"auto"},src:o.currentVariantShow},null,8,zn)])])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),o.isTokenAndSecExists?(l(),s("div",Un,[u(D,{onClick:o.openModal,disabled:o.addAssetsDisabled()},{default:p((()=>[u(w,{name:"image"}),t[22]||(t[22]=d("span",{style:{"margin-left":"5px"}},"Browse assets",-1))])),_:1},8,["onClick","disabled"]),d("div",null,[o.getTotalAssets()>0?(l(),y(D,{key:0,type:"button",onClick:t[8]||(t[8]=e=>o.refreshAssets()),loading:o.getIsLoading(),outlined:!0},{default:p((()=>[u(w,{name:"refresh"}),t[23]||(t[23]=d("span",{style:{"margin-left":"5px"}},"Refresh",-1))])),_:1},8,["loading"])):f("v-if",!0),o.getTotalAssets()>0?(l(),y(D,{key:1,style:{"margin-left":"5px"},type:"button",onClick:t[9]||(t[9]=e=>o.clickRemoveAllAssets()),danger:!0},{default:p((()=>[u(w,{name:"delete"}),t[24]||(t[24]=d("span",{style:{"margin-left":"5px"}},"Remove all",-1))])),_:1})):f("v-if",!0)])])):(l(),s("div",Yn,[u(O,{style:{"max-width":"100%","margin-top":"20px"}},{default:p((()=>[u(A,{style:{color:"tomato",display:"flex","align-items":"center"}},{default:p((()=>[u(w,{name:"report"}),t[25]||(t[25]=d("span",{style:{"font-size":"14px","margin-left":"5px"}},"Scaleflex DAM Notice",-1))])),_:1}),u(V,{style:{"max-width":"100%","padding-bottom":"25px"}},{default:p((()=>[t[26]||(t[26]=g(" Please visit the ")),d("span",{style:{"text-decoration":"underline",color:"dodgerblue",cursor:"pointer"},onClick:t[10]||(t[10]=(...e)=>o.toDamSetting&&o.toDamSetting(...e)),target:"_blank"},"Scaleflex DAM Configuration"),t[27]||(t[27]=g(" to add your Token and Template ID before browsing assets. "))])),_:1})])),_:1})])),d("div",{style:b({display:e.isOpen?"block":"none"}),class:"modal-overlay",id:"sfx-modal"},[d("div",Xn,[d("div",Wn,[d("h3",null,h(i.title),1),d("button",{onClick:t[11]||(t[11]=(...e)=>o.closeModal&&o.closeModal(...e)),class:"modal-close-btn"},"×")]),d("div",Hn,[x(e.$slots,"default",{},(()=>[t[28]||(t[28]=d("div",{id:"sfx-dam-widget"},null,-1))]))]),d("div",qn,[d("button",{onClick:t[12]||(t[12]=(...e)=>o.closeModal&&o.closeModal(...e)),class:"btn"},"Close")])])],4)],64)}],["__file","interface.vue"]]),Kn={id:"scaleflex-dam",name:"Scaleflex DAM",icon:"image",description:"",component:Gn,options:[{field:"custom",type:"boolean",name:"Use custom setting",recommendedDisplays:["scaleflex-dam-display"],schema:{default_value:!1},meta:{interface:"toggle",width:"half"}},{field:"limit",type:"integer",name:"Limit",schema:{default_value:0},meta:{interface:"input",width:"half",options:{min:0}}},{field:"limitTypes",type:"string",name:"Limit Types",meta:{interface:"select-multiple-dropdown",options:{choices:[{text:"Image",value:"image"},{text:"Document",value:"document"},{text:"Video",value:"video"},{text:"Audio",value:"audio"}]},width:"half"}},{field:"attributes",type:"string",name:"Attributes",meta:{interface:"select-multiple-dropdown",options:{choices:[{text:"Meta",value:"meta"},{text:"Tags",value:"tags"},{text:"Info",value:"info"}]},width:"half"}},{field:"config",type:"json",name:"Configuration",meta:{interface:"input-code",width:"full"}}],types:["json"]};Wt("\n.sfx-padding-box {\r\n  padding: 0 32px 32px;\n}\n.guide-text {\r\n  font-size: 13px;\r\n  margin-top: 5px;\r\n  color: #285c72;\n}\n.homepage{\r\n  margin-top: 10px;\r\n  display: flex;\r\n  transition: color 500ms ease;\r\n  cursor: pointer;\n}\n.homepage:hover{\r\n  color: #285c72;\n}\n.external-link{\r\n  display: flex;\r\n  padding: 5px 8px;\r\n  border-radius: 4px;\r\n  transition: background 500ms ease;\r\n  align-items: center;\r\n  cursor: pointer;\n}\n.external-link:hover{\r\n  background: var(--theme--navigation--project--background);\n}\r\n",{});const Qn={props:{collection:{type:String,default:"scaleflex_dam_settings"},id:{type:Number,default:1}},setup(e){const{useCollectionsStore:t}=E(),n=T(),o=t(),a=i(""),r=i(""),l=i(""),s=i(""),c=i([]),d=i([]),u=i(!0),p=i(!1),m=i(!1),f=i(!1),h=i("info"),g=i(null),v=i(null),y=i(!1);function b(e){return""===e||null===e}return async function(){p.value=!0;const t=e.collection;try{await o.getCollection(t)?m.value=!0:(await o.upsertCollection(t,{collection:t,meta:{note:"Scaleflex DAM"},schema:{fields:[{field:"id",type:"uuid",meta:{primary_key:!0}}]}}),await async function(){try{let t={meta:{hidden:!0}};await n.patch(`/collections/${e.collection}`,t)}catch(e){console.error(`Failed to hidden collection: ${e.message}`)}}(),await async function(){const t=[{type:"string",meta:{interface:"input",special:null},field:"token"},{type:"string",meta:{interface:"input",special:null},field:"sec"},{type:"string",meta:{interface:"input",special:null},field:"directory"},{type:"integer",meta:{interface:"input",special:null},field:"limit"},{type:"string",meta:{interface:"input",special:null},field:"attributes"},{type:"string",meta:{interface:"input",special:null},field:"limitType"}];try{for(const i of t)await n.post(`/fields/${e.collection}`,i),console.log(`Field ${i.field} created.`);await async function(){const t={token:"",sec:"",directory:"/",limit:null,limitType:"",attributes:""};try{await n.post(`/items/${e.collection}`,t)}catch(e){console.error(`Failed to create data: ${e.message}`)}}()}catch(e){console.error(`Failed to create fields: ${e.message}`)}}(),m.value=!1)}catch(e){}finally{p.value=!1}}().then((async function(){try{if(m){const t=(await n.get(`/items/${e.collection}/${e.id}`)).data.data;a.value=t.token||"",r.value=t.sec||"",l.value=t.directory||"",s.value=t.limit||0,c.value=b(t.attributes)?[]:t.attributes.split(","),d.value=b(t.limitType)?[]:t.limitType.split(",")}}catch(e){console.error(`Error loading data: ${e.message}`)}})),{token:a,sec:r,directory:l,saveSfxToken:async function(){if(p.value=!0,u.value=await async function(){const e=`https://api.filerobot.com/${a.value}/v4/key/${r.value}`;try{return 200===(await fetch(e)).status}catch(e){return!1}}(),f.value=!0,u.value)try{let t=d.value?d.value.toString():null,i=c.value?c.value.toString():null;const o={token:a.value,sec:r.value,directory:l.value,limit:s.value,attributes:i,limitType:t};await n.patch(`/items/${e.collection}/${e.id}`,o),h.value="success",g.value="Successfully Saved",v.value="Your updates have been saved and are now active. You can now add the Scaleflex DAM Field to your schema and begin using it immediately."}catch(e){h.value="danger",g.value="System Error",v.value="Failed to save settings. Please refresh the Page and try again."}finally{p.value=!1}else h.value="warning",g.value="Invalid Settings",v.value="Please verify your token and security template. The current configuration is incorrect and requires adjustment.";p.value=!1},loading:p,limit:s,attributes:c,limitType:d,isValid:u,dialogVisible:f,closeDialog:function(){f.value=!1},dialogText:v,dialogTitle:g,dialogType:h,confirmResetAllSettings:async function(){h.value="danger",g.value="Reset All Settings",v.value="Are you sure you want to reset all settings to their default values? This action cannot be undone and may affect your current configuration.",f.value=!0,y.value=!0},dialogReset:y,resetAllSettings:async function(){p.value=!0;try{const t={token:"",sec:"",directory:"/",limit:null,attributes:null,limitType:null};await n.patch(`/items/${e.collection}/${e.id}`,t),h.value="success",g.value="Settings Reset Successfully",v.value="All settings have been reset to their defaults. To continue using Scaleflex DAM with your model, please reconfigure your settings and verify them for seamless functionality."}catch(e){h.value="danger",g.value="System Error",v.value="Failed to save settings. Please refresh the Page and try again."}finally{p.value=!1,y.value=!1,a.value="",r.value="",l.value="",s.value="",c.value=[],d.value=[]}},toDam:function(){const e=document.querySelector('a[href="/admin/scaleflex-dam"]');e&&e.click()}}}},Jn={style:{"margin-top":"20px",padding:"0 10px"}},Zn={style:{display:"flex","flex-direction":"column","align-content":"center"}},ei={style:{display:"flex",background:"var(--theme--navigation--project--background)",padding:"5px 8px","border-radius":"4px","align-items":"center"}},ti={href:"https://docs.scaleflex.com/digital-asset-management-dam/plugins-and-connectors/plugins/directus",target:"_blank",class:"external-link",style:{"margin-top":"8px"}},ni={href:"https://www.scaleflex.com",target:"_blank",class:"homepage"},ii={class:"sfx-padding-box"},oi={style:{"margin-bottom":"1rem"}},ai={style:{"margin-bottom":"1rem"}},ri={style:{"margin-bottom":"1rem"}},li={style:{"margin-bottom":"1rem"}},si={style:{"margin-bottom":"1rem"}},ci={style:{"margin-bottom":"1rem"}},di={style:{display:"flex","justify-content":"start","align-items":"center"}},ui={style:{"margin-left":"5px"}};var pi=Ht(Qn,[["render",function(e,t,i,o,a,r){const s=n("VIcon"),c=n("VCardTitle"),m=n("VCardText"),v=n("VCard"),b=n("VInput"),x=n("VDivider"),w=n("VSelect"),_=n("VButton"),k=n("v-card-title"),S=n("v-card-text"),D=n("v-card-actions"),C=n("v-card"),T=n("VDialog"),E=n("private-view");return l(),y(E,{title:"Scaleflex DAM"},{navigation:p((()=>[d("div",Jn,[d("div",Zn,[d("div",ei,[u(s,{name:"settings",style:{color:"var(--theme--primary)"}}),t[8]||(t[8]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Scaleflex DAM",-1))]),d("div",{onClick:t[0]||(t[0]=(...e)=>o.toDam&&o.toDam(...e)),class:"external-link",style:{"margin-top":"8px"}},[u(s,{name:"gallery_thumbnail",style:{color:"var(--theme--primary)"}}),t[9]||(t[9]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Assets Library",-1))]),d("a",ti,[u(s,{name:"description",style:{color:"var(--theme--primary)"}}),t[10]||(t[10]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Documentation",-1))])])])])),default:p((()=>[u(v,{style:{margin:"0 32px 32px 32px","max-width":"100%"}},{default:p((()=>[u(c,{style:{padding:"15px"}},{default:p((()=>t[11]||(t[11]=[g(" About Scaleflex DAM ")]))),_:1}),u(m,{style:{padding:"15px",width:"100%",position:"relative"}},{default:p((()=>[t[13]||(t[13]=d("div",{style:{display:"flex","align-items":"center","justify-content":"start","margin-bottom":"20px"}},[d("img",{src:"https://frzjaqrbb.filerobot.com/plugins_assets/scaleflex.svg"})],-1)),t[14]||(t[14]=d("div",{style:{"z-index":"999"}}," Scaleflex DAM(Filerobot) is a scalable and performance-oriented Digital Asset Management platform with integrated image and video optimizers to store, organize, optimize and deliver your media assets such as images, videos, PDFs and many other brand assets fast all around the world to all device types. ",-1)),d("a",ni,[u(s,{name:"house",small:!0,style:{"margin-top":"2px"}}),t[12]||(t[12]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Scaleflex Home",-1))]),t[15]||(t[15]=d("img",{src:"https://frzjaqrbb.filerobot.com/plugins_assets/dam.svg",style:{position:"absolute",right:"10px",top:"-40px",width:"180px","z-index":"1",opacity:"0.4"}},null,-1))])),_:1})])),_:1}),d("div",ii,[t[31]||(t[31]=d("div",{style:{"font-size":"18px","margin-bottom":"20px"}},[d("h2",null,"Base configurations"),d("p",{class:"guide-text"},"The following fields are required to integrate the Scaleflex DAM Widget within Directus.")],-1)),d("div",oi,[t[16]||(t[16]=d("label",{for:"sfx_token"},[d("b",null,"Token")],-1)),u(b,{disabled:o.loading,modelValue:o.token,"onUpdate:modelValue":t[1]||(t[1]=e=>o.token=e)},null,8,["disabled","modelValue"]),t[17]||(t[17]=d("p",{class:"guide-text"},[g("Scaleflex DAM token from your account, you can obtain a token by fill in "),d("a",{style:{color:"var(--theme--primary)"},href:"https://www.scaleflex.com/contact-us",target:"_blank"},"Scaleflex contact page")],-1))]),d("div",ai,[t[18]||(t[18]=d("label",{for:"sfx_sec"},[d("b",null,"Security Template")],-1)),u(b,{disabled:o.loading,modelValue:o.sec,"onUpdate:modelValue":t[2]||(t[2]=e=>o.sec=e)},null,8,["disabled","modelValue"]),t[19]||(t[19]=d("p",{class:"guide-text"},"To load the Scaleflex DAM Widget or Scaleflex DAM Image Editor, you you need to create a Security Template in your Asset Hub first, in order for your Directus instantiation of the Widget to obtain proper credentials and access your storage",-1))]),d("div",ri,[t[20]||(t[20]=d("label",{for:"sfx_token"},[d("b",null,"Root Directory")],-1)),u(b,{disabled:o.loading,modelValue:o.directory,"onUpdate:modelValue":t[3]||(t[3]=e=>o.directory=e)},null,8,["disabled","modelValue"]),t[21]||(t[21]=d("p",{class:"guide-text"},"The directory in your Hub, where the files will be stored",-1))]),u(x,{style:{margin:"20px 0"}}),t[32]||(t[32]=d("div",{style:{"font-size":"18px","margin-bottom":"20px"}},[d("h2",null,"Advanced configuration"),d("p",{class:"guide-text"},"This configuration will be overridden if 'Use Custom Setting' is activated in each Field Interface.")],-1)),d("div",li,[t[22]||(t[22]=d("label",{for:"limit"},[d("b",null,"Limit")],-1)),u(b,{disabled:o.loading,min:"0",modelValue:o.limit,"onUpdate:modelValue":t[4]||(t[4]=e=>o.limit=e),type:"number"},null,8,["disabled","modelValue"]),t[23]||(t[23]=d("p",{class:"guide-text"},[g("The max number of files that can be added to a single field, "),d("b",{style:{color:"var(--theme--primary)"}},"default: 0(unlimited)")],-1))]),d("div",si,[t[24]||(t[24]=d("label",{for:"attributes"},[d("b",null,"Attributes")],-1)),u(w,{modelValue:o.attributes,"onUpdate:modelValue":t[5]||(t[5]=e=>o.attributes=e),disabled:o.loading,items:[{text:"Meta",value:"meta"},{text:"Tags",value:"tags"},{text:"Info",value:"info"}],multiplePreviewThreshold:4,multiple:!0},null,8,["modelValue","disabled"]),t[25]||(t[25]=d("p",{class:"guide-text"},"Attribute from Scaleflex DAM asset that you want to include in Client response",-1))]),d("div",ci,[t[26]||(t[26]=d("label",{for:"limitType"},[d("b",null,"Limit Type")],-1)),u(w,{modelValue:o.limitType,"onUpdate:modelValue":t[6]||(t[6]=e=>o.limitType=e),disabled:o.loading,multiplePreviewThreshold:5,items:[{text:"Image",value:"image"},{text:"Document",value:"document"},{text:"Video",value:"video"},{text:"Audio",value:"audio"}],multiple:!0},null,8,["modelValue","disabled"]),t[27]||(t[27]=d("p",{class:"guide-text"},"File types limit when use Widget",-1))]),d("div",null,[o.loading?f("v-if",!0):(l(),y(_,{key:0,onClick:o.saveSfxToken},{default:p((()=>[u(s,{name:"save"}),t[28]||(t[28]=d("span",{style:{"margin-left":"5px"}},"Save Settings",-1))])),_:1},8,["onClick"])),o.loading||""===o.token||""===o.sec?f("v-if",!0):(l(),y(_,{key:1,style:{"margin-left":"15px"},onClick:o.confirmResetAllSettings,outlined:!0,danger:!0},{default:p((()=>[u(s,{name:"restart_alt"}),t[29]||(t[29]=d("span",{style:{"margin-left":"5px"}},"Reset all settings",-1))])),_:1},8,["onClick"])),o.loading?(l(),y(_,{key:2,disabled:o.loading},{default:p((()=>t[30]||(t[30]=[d("span",null,"Processing...",-1)]))),_:1},8,["disabled"])):f("v-if",!0)])]),u(T,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>o.dialogVisible=e)},{default:p((()=>[u(C,{class:"dialog-content"},{default:p((()=>[u(k,null,{default:p((()=>[d("div",di,["info"===o.dialogType?(l(),y(s,{key:0,color:"gray",name:"info"})):f("v-if",!0),"warning"===o.dialogType?(l(),y(s,{key:1,color:"tomato",name:"warning"})):f("v-if",!0),"success"===o.dialogType?(l(),y(s,{key:2,color:"green",name:"check_circle"})):f("v-if",!0),"danger"===o.dialogType?(l(),y(s,{key:3,color:"red",name:"error"})):f("v-if",!0),d("span",ui,h(o.dialogTitle),1)])])),_:1}),u(S,{style:{padding:"10px 35px"}},{default:p((()=>[g(h(o.dialogText),1)])),_:1}),u(D,null,{default:p((()=>[o.dialogReset?(l(),y(_,{key:0,outlined:!0,onClick:o.closeDialog},{default:p((()=>t[33]||(t[33]=[g("Cancel")]))),_:1},8,["onClick"])):f("v-if",!0),o.dialogReset?f("v-if",!0):(l(),y(_,{key:1,outlined:!0,onClick:o.closeDialog},{default:p((()=>t[34]||(t[34]=[g("Close")]))),_:1},8,["onClick"])),o.dialogReset?(l(),y(_,{key:2,danger:!0,onClick:o.resetAllSettings},{default:p((()=>t[35]||(t[35]=[g("Reset")]))),_:1},8,["onClick"])):f("v-if",!0),"warning"!==o.dialogType&&"danger"!==o.dialogType||o.dialogReset?f("v-if",!0):(l(),y(_,{key:3,onClick:o.closeDialog},{default:p((()=>t[36]||(t[36]=[g(" Double check Settings ")]))),_:1},8,["onClick"]))])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}],["__file","module.vue"]]),mi={id:"scaleflex-dam-setting",name:"Scaleflex DAM Setting",icon:"filter",routes:[{path:"",component:pi},{name:"page",path:":page",props:!0,component:pi}]};Wt("\n.media-container[data-v-9da39285] {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  position: relative;\r\n  padding: 5px;\n}\n.media-item-wrapper[data-v-9da39285] {\r\n  position: relative;\r\n  transition: transform 0.2s ease, z-index 0.2s ease;\n}\n.media-item-wrapper.hovered[data-v-9da39285] {\r\n  transform: scale(1.2); /* Highlight effect */\n}\n.media-item[data-v-9da39285] {\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 35%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #f0f0f0;\r\n  border: 2px solid white; /* Circle border for better visibility */\r\n  overflow: hidden;\n}\n.circle[data-v-9da39285] {\r\n  background-size: cover;\r\n  background-position: center;\n}\n.icon-wrapper[data-v-9da39285] {\r\n  background-color: #ddd; /* Placeholder background for icons */\n}\n.extra-items .media-item[data-v-9da39285] {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: var(--v-button-background-color, var(--theme--primary));\r\n  opacity: 70%;\r\n  font-size: 14px;\r\n  color: white;\r\n  font-weight: bold;\n}\n.extra-count[data-v-9da39285] {\r\n  font-size: 14px;\r\n  font-weight: bold;\n}\r\n",{});const fi={class:"media-container"},hi=["onMouseover"],gi=["alt"],vi={key:1,class:"media-item circle icon-wrapper"},yi={key:0,class:"media-item-wrapper extra-items"},bi={class:"media-item circle icon-wrapper"},xi={class:"extra-count"};var wi=Ht({props:{value:{type:Array,default:()=>[]},limit:{type:Number,default:2}},data:()=>({hoveredIndex:null}),computed:{displayedItems(){return this.value.slice(0,this.limit)}},methods:{isImage:e=>e.startsWith("image"),isVideo:e=>e.startsWith("video"),isAudio:e=>e.startsWith("audio"),getIconName(e){return this.isVideo(e)?"videocam":this.isAudio(e)?"play_circle":"draft"},hasQueryString(e){try{return new URL(e).search.length>0}catch(e){return!1}},createThumbnail(e){return this.hasQueryString(e)?e+"&width=100&height=100":e+"?width=100&height=100"}}},[["render",function(e,t,i,o,a,r){const p=n("VIcon");return l(),s("div",fi,[(l(!0),s(c,null,m(r.displayedItems,((e,n)=>(l(),s("div",{key:n,class:v(["media-item-wrapper",{hovered:a.hoveredIndex===n}]),style:b({zIndex:a.hoveredIndex===n?100:n+1,marginLeft:n>0?"-12px":"0"}),onMouseover:e=>a.hoveredIndex=n,onMouseleave:t[0]||(t[0]=e=>a.hoveredIndex=null)},[r.isImage(e.type)?(l(),s("div",{key:0,class:"media-item circle",style:b({backgroundImage:`url(${r.createThumbnail(e.cdn)})`}),alt:e.name},null,12,gi)):(l(),s("div",vi,[u(p,{class:v(`item-icon ${e.type}`),name:r.getIconName(e.type),small:!0},null,8,["class","name"])]))],46,hi)))),128)),i.value.length>i.limit?(l(),s("div",yi,[d("div",bi,[d("span",xi,"+"+h(i.value.length-i.limit),1)])])):f("v-if",!0)])}],["__scopeId","data-v-9da39285"],["__file","display.vue"]]),_i={id:"scaleflex-dam-display",name:"DAM Assets",icon:"image",description:"Display DAM assets with beautiful UI",component:wi,options:[{field:"limit",type:"integer",name:"Limit assets on Display",meta:{interface:"input",options:{min:0}},schema:{default_value:2}}],types:["json"]};Wt("\n#sfx-dam-widget .filerobot-Provider-ItemCategory-wrapper .filerobot-u-reset {\r\n  top: 0;\n}\n.header-bar {\r\n  z-index: 99999;\n}\n.filerobot-common-Search-searchInput {\r\n  background: #FFF;\n}\n.external-link{\r\n  display: flex;\r\n  padding: 5px 8px;\r\n  border-radius: 4px;\r\n  transition: background 500ms ease;\r\n  align-items: center;\n}\n.external-link:hover{\r\n  background: var(--theme--navigation--project--background);\n}\r\n",{});const ki={props:{id:{type:Number,default:1},custom:{type:Boolean,default:!1},limit:{type:Number,default:0},limitTypes:{type:String,default:null},attributes:{type:String,default:null}},setup(e,{emit:t}){const n=T(),a=i(!1),r=i(!0),l=i(""),s=i(""),c=i(""),d=i(null),u=i([]),p=i([]),m=i(""),f=i(!1);return o((()=>{(async function(){await async function(){try{const t=(await n.get(`/items/scaleflex_dam_settings/${e.id}`)).data.data;if(!t)throw new Error("Data not found");t.token&&t.sec?(m.value=`https://api.filerobot.com/${t.token}/v5`,l.value=t.token||"",s.value=t.sec||"",c.value=t.directory||"",f.value=!0):f.value=!1,e.custom?(d.value=e.limit||null,p.value=e.limitTypes?e.limitTypes:[],u.value=e.attributes?e.attributes:[]):(d.value=t.limit||null,p.value=t.limitType?t.limitType.split(","):[],u.value=t.attributes?t.attributes.split(","):[])}catch(e){}}().then((function(){r.value=!1,a.value=!0}))})().then((function(){!function(e){if(!window.Filerobot)return;let t=window.Filerobot,n=null;n=t.Core({securityTemplateID:e.sec,container:e.token});let i=e.directory,o=t.Explorer,a=t.XHRUpload;n.use(o,{config:{rootFolderPath:i},target:"#sfx-dam-widget",inline:!0,width:"100%",height:"100%",disableExportButton:!1,hideExportButtonIcon:!0,preventExportDefaultBehavior:!0,dismissUrlPathQueryUpdate:!0,disableDownloadButton:!0,hideDownloadButtonIcon:!0,preventDownloadDefaultBehavior:!0,locale:{strings:{mutualizedExportButtonLabel:"Add assets",mutualizedDownloadButton:"Add assets"}},filters:{mimeTypes:p.value}}).use(a).on("export",(async(e,t,n,i)=>{console.dir(e)})).on("complete",(({failed:e,uploadID:t,successful:n})=>{e&&console.dir(e),n&&n.forEach(((e,t)=>{}))}))}({token:l.value,sec:s.value,directory:c.value,limitType:p.value})}))})),{getIsLoading:function(){return r.value},toDamSetting:function(){const e=document.querySelector('a[href="/admin/scaleflex-dam-setting"]');e&&e.click()},isTokenAndSecExists:f}}},Si={style:{"margin-top":"20px",padding:"0 10px"}},Di={style:{display:"flex","flex-direction":"column","align-content":"center"}},Ci={style:{display:"flex","align-items":"center",background:"var(--theme--navigation--project--background)",padding:"5px 8px","border-radius":"4px","margin-top":"8px"}},Ti={href:"https://docs.scaleflex.com/digital-asset-management-dam/plugins-and-connectors/plugins/directus",target:"_blank",class:"external-link",style:{"margin-top":"8px"}},Ei={key:0,style:{margin:"32px"}},Ai={key:1,style:{padding:"32px"}};var Ii,Mi={id:"scaleflex-dam",name:"Scaleflex DAM",icon:"cloud",routes:[{path:"",component:Ht(ki,[["render",function(e,t,i,o,a,r){const c=n("VIcon"),m=n("VCardTitle"),h=n("VCardText"),v=n("VCard"),b=n("private-view");return l(),y(b,{title:"Scaleflex DAM"},{navigation:p((()=>[d("div",Si,[d("div",Di,[d("div",{onClick:t[0]||(t[0]=(...e)=>o.toDamSetting&&o.toDamSetting(...e)),class:"external-link"},[u(c,{name:"settings",style:{color:"var(--theme--primary)"}}),t[2]||(t[2]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Scaleflex DAM",-1))]),d("div",Ci,[u(c,{name:"gallery_thumbnail",style:{color:"var(--theme--primary)"}}),t[3]||(t[3]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Assets Library",-1))]),d("a",Ti,[u(c,{name:"description",style:{color:"var(--theme--primary)"}}),t[4]||(t[4]=d("span",{style:{"margin-left":"4px","font-size":"14px",display:"block"}},"Documentation",-1))])])])])),default:p((()=>[t[9]||(t[9]=d("link",{rel:"stylesheet",type:"text/css",href:"https://scaleflex.cloudimg.io/v7/plugins/filerobot-widget/v3/latest/filerobot-widget.min.css"},null,-1)),o.isTokenAndSecExists?(l(),s("div",Ei,t[5]||(t[5]=[d("div",{id:"sfx-dam-widget"},null,-1)]))):f("v-if",!0),o.isTokenAndSecExists?f("v-if",!0):(l(),s("div",Ai,[u(v,{style:{"max-width":"100%"}},{default:p((()=>[u(m,{style:{color:"tomato",display:"flex","align-items":"center"}},{default:p((()=>[u(c,{name:"report"}),t[6]||(t[6]=d("span",{style:{"font-size":"14px","margin-left":"5px"}},"Scaleflex DAM Notice",-1))])),_:1}),u(h,{style:{"max-width":"100%","padding-bottom":"25px"}},{default:p((()=>[t[7]||(t[7]=g(" Please visit the ")),d("span",{style:{"text-decoration":"underline",color:"dodgerblue",cursor:"pointer"},onClick:t[1]||(t[1]=(...e)=>o.toDamSetting&&o.toDamSetting(...e)),target:"_blank"},"Scaleflex DAM Configuration"),t[8]||(t[8]=g(" to add your Token and Template ID before browsing assets. "))])),_:1})])),_:1})]))])),_:1})}],["__file","module.vue"]])}]},Vi=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Oi=function(e){return-1!==Vi.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},$i=function(e,t,n,i,o,a){i.setContent(a()),n.attrs["onUpdate:modelValue"]&&function(e,t,n,i){var o=e.modelEvents?e.modelEvents:null,a=Array.isArray(o)?o.join(" "):o;w(i,(function(t,i){n&&"string"==typeof t&&t!==i&&t!==n.getContent({format:e.outputFormat})&&n.setContent(t)})),n.on(a||"change input undo redo",(function(){t.emit("update:modelValue",n.getContent({format:e.outputFormat}))}))}(t,n,i,o),function(e,t,n){Object.keys(t).filter(Oi).forEach((function(i){var o=t[i];"function"==typeof o&&("onInit"===i?o(e,n):n.on(i.substring(2),(function(e){return o(e,n)})))}))}(e,n.attrs,i)},Pi=0,Ni=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++Pi+String(t)},ji=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},Bi=function(){return{listeners:[],scriptId:Ni("tiny-script"),scriptLoaded:!1}},Ri=(Ii=Bi(),{load:function(e,t,n){Ii.scriptLoaded?n():(Ii.listeners.push(n),e.getElementById(Ii.scriptId)||function(e,t,n,i){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var a=function(){o.removeEventListener("load",a),i()};o.addEventListener("load",a),t.head&&t.head.appendChild(o)}(Ii.scriptId,e,t,(function(){Ii.listeners.forEach((function(e){return e()})),Ii.scriptLoaded=!0})))},reinitialize:function(){Ii=Bi()}}),Fi=function(){return"undefined"!=typeof window?window:global},Li=function(){var e=Fi();return e&&e.tinymce?e.tinymce:null},zi={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ui.apply(this,arguments)},Yi={selector:void 0,target:void 0},Xi=e({props:zi,setup:function(e,n){var a=e.init?Ui(Ui({},e.init),Yi):Ui({},Yi),r=_(e),l=r.disabled,s=r.modelValue,c=r.tagName,d=i(null),u=null,p=e.id||Ni("tiny-vue"),m=e.init&&e.init.inline||e.inline,f=!!n.attrs["onUpdate:modelValue"],h=!0,g=e.initialValue?e.initialValue:"",v="",y=function(){var t,i,o,r=(t=h,f?function(){return(null==s?void 0:s.value)?s.value:""}:function(){return t?g:v}),l=Ui(Ui({},a),{readonly:e.disabled,target:d.value,plugins:(i=a.plugins,o=e.plugins,ji(i).concat(ji(o))),toolbar:e.toolbar||a.toolbar,inline:m,setup:function(t){u=t,t.on("init",(function(i){return $i(i,e,n,t,s,r)})),"function"==typeof a.setup&&a.setup(t)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(d.value)&&(d.value.style.visibility=""),Li().init(l),h=!1};w(l,(function(e){var t;null!==u&&("function"==typeof(null===(t=u.mode)||void 0===t?void 0:t.set)?u.mode.set(e?"readonly":"design"):u.setMode(e?"readonly":"design"))})),w(c,(function(e){var t;f||(v=u.getContent()),null===(t=Li())||void 0===t||t.remove(u),k((function(){return y()}))})),o((function(){if(null!==Li())y();else if(d.value&&d.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:"6",n=e.apiKey?e.apiKey:"no-api-key",i=null==e.tinymceScriptSrc?"https://cdn.tiny.cloud/1/".concat(n,"/tinymce/").concat(t,"/tinymce.min.js"):e.tinymceScriptSrc;Ri.load(d.value.ownerDocument,i,y)}})),S((function(){null!==Li()&&Li().remove(u)})),m||(D((function(){h||y()})),C((function(){var e;f||(v=u.getContent()),null===(e=Li())||void 0===e||e.remove(u)})));return n.expose({rerender:function(e){var t;v=u.getContent(),null===(t=Li())||void 0===t||t.remove(u),a=Ui(Ui(Ui({},a),e),Yi),k((function(){return y()}))},getEditor:function(){return u}}),function(){return m?function(e,t,n,i){return e(i||"div",{id:t,ref:n})}(t,p,d,e.tagName):t("textarea",{id:p,visibility:"hidden",ref:d})}}});Wt("\n.ml-1 {\r\n  margin-left: 0.5rem;\n}\n#sfx-editor-modal .filerobot-Provider-ItemCategory-wrapper .filerobot-u-reset {\r\n  top: 0;\n}\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\n}\n.modal {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  width: 80%;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n  overflow-y: auto;\r\n  max-height: 80vh;\r\n  margin: 1.75rem auto;\n}\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\n}\n.modal-close-btn {\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\n}\n.modal-body {\r\n  margin: 1rem 0;\n}\n.modal-footer {\r\n  text-align: right;\n}\r\n",{});const Wi={props:{value:{type:String,default:""},options:{type:Object,default:()=>({})}},components:{Editor:Xi},data:()=>({editor:null}),emits:["input","close"],setup(e,{emit:t}){const n=i(!1),a=T(),r=i(!1),l=i(!0),s=i(""),c=i(""),d=i(""),u=i(null),p=i([]),m=i([]),f=i(""),h=i(!1);function g(){document.getElementById("sfx-editor-modal").setAttribute("style","display: none"),t("close"),n.value=!1}return o((()=>{!async function(){await async function(){try{const t=(await a.get("/items/scaleflex_dam_settings/1")).data.data;if(!t)throw new Error("Data not found");t.token&&t.sec?(f.value=`https://api.filerobot.com/${t.token}/v5`,s.value=t.token||"",c.value=t.sec||"",d.value=t.directory||"",h.value=!0):h.value=!1,e.custom?(u.value=e.limit||null,m.value=e.limitTypes?e.limitTypes:[],p.value=e.attributes?e.attributes:[]):(u.value=t.limit||null,m.value=t.limitType?t.limitType.split(","):[],p.value=t.attributes?t.attributes.split(","):[])}catch(e){}}().then((function(){l.value=!1,r.value=!0}))}()})),{closeModal:g,openModal:function(e){document.getElementById("sfx-editor-modal").setAttribute("style","display: block"),n.value=!0,async function(e){!function(e,t){if(!window.Filerobot)return;let n=window.Filerobot,i=null;i=n.Core({securityTemplateID:e.sec,container:e.token});let o=e.directory,a=n.Explorer,r=n.XHRUpload;i.use(a,{config:{rootFolderPath:o},target:"#sfx-dam-widget-editor",inline:!0,width:"100%",height:"100%",disableExportButton:!1,hideExportButtonIcon:!0,preventExportDefaultBehavior:!0,dismissUrlPathQueryUpdate:!0,disableDownloadButton:!1,hideDownloadButtonIcon:!0,preventDownloadDefaultBehavior:!0,locale:{strings:{mutualizedExportButtonLabel:"Add assets",mutualizedDownloadButton:"Add assets"}},filters:{mimeTypes:m.value}}).use(r).on("export",(async(e,n,i,o)=>{console.dir(e);const a=function(e){let t="";return e.forEach((e=>{const n=e.file,i=n.type,o=n.meta?.title?.en||"No Title",a=n.url?.cdn||"";void 0!==n.url?.download&&(a.value=n.url?.download);let r="<div>";"image/jpeg"===i||"image/png"===i?r+=`<img src='${a}' alt='${o}' />`:"video/mp4"===i||i.startsWith("video/")?r+=`<video src='${a}' controls></video>`:("audio/mpeg"===i||i.startsWith("audio/"))&&(r+=`<audio src='${a}' controls></audio>`),r+="</div>",t+=r})),t}(e);tinymce.get(t).insertContent(a),g()})).on("complete",(({failed:e,uploadID:t,successful:n})=>{e&&console.dir(e),n&&n.forEach(((e,t)=>{}))}))}({token:s.value,sec:c.value,directory:d.value,limitType:m.value},e)}(e)},emit:t}},beforeDestroy(){this.editor&&(this.editor.destroy(),this.editor=null)}},Hi={class:"modal"},qi={class:"modal-header"},Gi={class:"modal-body"},Ki={class:"modal-footer"};const Qi=[Kn,{id:"dam-editor",name:"WYSIWYG With DAM",icon:"format_quote",description:"Use the WYSIWYG with Scaleflex DAM",component:Ht(Wi,[["render",function(e,t,i,o,a,r){const p=n("Editor");return l(),s(c,null,[t[4]||(t[4]=d("link",{rel:"stylesheet",type:"text/css",href:"https://scaleflex.cloudimg.io/v7/plugins/filerobot-widget/v3/latest/filerobot-widget.min.css"},null,-1)),d("div",null,[u(p,{"api-key":"qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",init:{plugins:"media table lists image link pagebreak code insertdatetime autoresize preview fullscreen directionality",toolbar:"h1 h2 h3 bold italic underline alignleft aligncenter alignright alignjustify bullist numlist outdent indent link removeformat blockquote fullscreen code | sfxDAM",setup:e=>{e.on("init",(()=>{e.setContent(i.value)})),e.ui.registry.addToggleButton("sfxDAM",{text:"DAM",onAction:t=>{o.openModal(e.id)}}),e.on("input",(()=>{const t=e.getContent();o.emit("input",t)}))}}},null,8,["init"])]),d("div",{style:b({display:e.isOpen?"block":"none"}),class:"modal-overlay",id:"sfx-editor-modal"},[d("div",Hi,[d("div",qi,[t[2]||(t[2]=d("h3",null,"Scaleflex DAM",-1)),d("button",{onClick:t[0]||(t[0]=(...e)=>o.closeModal&&o.closeModal(...e)),class:"modal-close-btn"},"×")]),d("div",Gi,[x(e.$slots,"default",{},(()=>[t[3]||(t[3]=d("div",{id:"sfx-dam-widget-editor"},null,-1))]))]),d("div",Ki,[d("button",{onClick:t[1]||(t[1]=(...e)=>o.closeModal&&o.closeModal(...e)),class:"btn"},"Close")])])],4)],64)}],["__file","interface.vue"]]),options:{standard:[{field:"toolbar",name:"$t:interfaces.input-rich-text-html.toolbar",type:"json",schema:{default_value:["bold","italic","underline","h1","h2","h3","numlist","bullist","removeformat","blockquote","customLink","customImage","customMedia","hr","code","fullscreen"]},meta:{width:"half",interface:"select-multiple-dropdown",options:{choices:[{value:"undo",text:"$t:wysiwyg_options.undo"},{value:"redo",text:"$t:wysiwyg_options.redo"},{value:"bold",text:"$t:wysiwyg_options.bold"},{value:"italic",text:"$t:wysiwyg_options.italic"},{value:"underline",text:"$t:wysiwyg_options.underline"},{value:"strikethrough",text:"$t:wysiwyg_options.strikethrough"},{value:"subscript",text:"$t:wysiwyg_options.subscript"},{value:"superscript",text:"$t:wysiwyg_options.superscript"},{value:"fontfamily",text:"$t:wysiwyg_options.fontselect"},{value:"fontsize",text:"$t:wysiwyg_options.fontsizeselect"},{value:"h1",text:"$t:wysiwyg_options.h1"},{value:"h2",text:"$t:wysiwyg_options.h2"},{value:"h3",text:"$t:wysiwyg_options.h3"},{value:"h4",text:"$t:wysiwyg_options.h4"},{value:"h5",text:"$t:wysiwyg_options.h5"},{value:"h6",text:"$t:wysiwyg_options.h6"},{value:"alignleft",text:"$t:wysiwyg_options.alignleft"},{value:"aligncenter",text:"$t:wysiwyg_options.aligncenter"},{value:"alignright",text:"$t:wysiwyg_options.alignright"},{value:"alignjustify",text:"$t:wysiwyg_options.alignjustify"},{value:"alignnone",text:"$t:wysiwyg_options.alignnone"},{value:"indent",text:"$t:wysiwyg_options.indent"},{value:"outdent",text:"$t:wysiwyg_options.outdent"},{value:"numlist",text:"$t:wysiwyg_options.numlist"},{value:"bullist",text:"$t:wysiwyg_options.bullist"},{value:"forecolor",text:"$t:wysiwyg_options.forecolor"},{value:"backcolor",text:"$t:wysiwyg_options.backcolor"},{value:"removeformat",text:"$t:wysiwyg_options.removeformat"},{value:"cut",text:"$t:wysiwyg_options.cut"},{value:"copy",text:"$t:wysiwyg_options.copy"},{value:"paste",text:"$t:wysiwyg_options.paste"},{value:"remove",text:"$t:wysiwyg_options.remove"},{value:"selectall",text:"$t:wysiwyg_options.selectall"},{value:"blockquote",text:"$t:wysiwyg_options.blockquote"},{value:"customLink",text:"$t:wysiwyg_options.link"},{value:"unlink",text:"$t:wysiwyg_options.unlink"},{value:"customImage",text:"$t:wysiwyg_options.image"},{value:"customMedia",text:"$t:wysiwyg_options.media"},{value:"table",text:"$t:wysiwyg_options.table"},{value:"hr",text:"$t:wysiwyg_options.hr"},{value:"code",text:"$t:wysiwyg_options.source_code"},{value:"fullscreen",text:"$t:wysiwyg_options.fullscreen"},{value:"visualaid",text:"$t:wysiwyg_options.visualaid"},{value:"ltr rtl",text:"$t:wysiwyg_options.directionality"}]}}},{field:"font",name:"$t:font",type:"string",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"$t:sans_serif",value:"sans-serif"},{text:"$t:monospace",value:"monospace"},{text:"$t:serif",value:"serif"}]}},schema:{default_value:"sans-serif"}},{field:"folder",name:"$t:folder",type:"uuid",meta:{width:"half",interface:"system-folder",note:"$t:interfaces.input-rich-text-html.folder_note"}},{field:"imageToken",name:"$t:interfaces.input-rich-text-html.imageToken",type:"string",meta:{note:"$t:interfaces.input-rich-text-html.imageToken_label",width:"half",interface:"input"}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1}}},{field:"customFormats",name:"$t:interfaces.input-rich-text-html.custom_formats",type:"json",meta:{interface:"code",note:"$t:interfaces.input-rich-text-html.custom_formats_note",options:{language:"json",template:JSON.stringify([{title:"My Custom Format",inline:"span",classes:"custom-wrapper",styles:{color:"#00ff00","font-size":"20px"},attributes:{title:"My Custom Wrapper"}}],null,4)}}},{field:"tinymceOverrides",name:"$t:interfaces.input-rich-text-html.options_override",type:"json",meta:{interface:"code",note:"$t:interfaces.input-rich-text-html.options_override_note",options:{language:"json",template:JSON.stringify({font_size_formats:"8pt 10pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt",font_family_formats:"Arial=arial,helvetica,sans-serif; Courier New=courier new,courier,monospace;"},null,4)}}}]},types:["text"]}],Ji=[_i],Zi=[],eo=[mi,Mi],to=[],no=[],io=[];export{Ji as displays,Qi as interfaces,Zi as layouts,eo as modules,io as operations,to as panels,no as themes};
